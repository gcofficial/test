{"version":3,"sources":["../../src/routes/providers.js"],"names":["routes","get","req","res","status","json","Provider","find","exec","post","providerJoi","p","name","body","save"],"mappings":";;;;;;AAAA;;AACA;;;;AACA;;AACA;;;;;;AAEA,MAAMA,SAAS,sBAAf;;AAEAA,OAAOC,GAAP,CACE,GADF,EAEE,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AAClBA,MAAIC,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,EAAqB,MAAMC,iBAASC,IAAT,CAAc,EAAd,EAAkBC,IAAlB,EAA3B;AACD,CAJH;;AAOAR,OAAOS,IAAP,CACE,GADF,EAEE,mCAAUC,kBAAV,CAFF,EAGE,OAAOR,GAAP,EAAYC,GAAZ,KAAoB;AAClB,MAAIQ,IAAI,IAAIL,gBAAJ,CAAa,EAAEM,MAAMV,IAAIW,IAAJ,CAASD,IAAjB,EAAb,CAAR;AACA,QAAMD,EAAEG,IAAF,EAAN;AACAX,MAAIC,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBM,CAArB;AACD,CAPH;;kBAUeX,M","file":"providers.js","sourcesContent":["import { Router } from 'express';\nimport validator from 'express-joi-validator';\nimport { Provider } from '../models';\nimport providerJoi from '../schemas/joi/provider';\n\nconst routes = Router();\n\nroutes.get(\n  '/',\n  async (req, res) => {\n    res.status(200).json(await Provider.find({}).exec());\n  }\n);\n\nroutes.post(\n  '/',\n  validator(providerJoi),\n  async (req, res) => {\n    let p = new Provider({ name: req.body.name });\n    await p.save();\n    res.status(200).json(p);\n  }\n)\n\nexport default routes;"]}