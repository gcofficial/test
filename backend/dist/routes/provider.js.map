{"version":3,"sources":["../../src/routes/provider.js"],"names":["routes","put","providerJoi","req","res","p","Provider","findById","params","id","exec","status","json","message","findByIdAndUpdate","$set","name","body"],"mappings":";;;;;;AAAA;;AACA;;AACA;;;;AACA;;;;;;AAEA,MAAMA,SAAS,sBAAf;;AAEAA,OAAOC,GAAP,CACE,MADF,EAEE,mCAAUC,kBAAV,CAFF,EAGE,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AAClB,MAAIC,IAAI,MAAMC,iBAASC,QAAT,CAAkBJ,IAAIK,MAAJ,CAAWC,EAA7B,EAAiCC,IAAjC,EAAd;AACA,MAAIL,MAAM,IAAV,EAAgB;AACdD,QAAIO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEC,SAAU,GAAEV,IAAIK,MAAJ,CAAWC,EAAG,wBAA5B,EAArB;AACD;AACD,QAAMH,iBAASQ,iBAAT,CACJX,IAAIK,MAAJ,CAAWC,EADP,EAEJ,EAAEM,MAAM,EAAEC,MAAMb,IAAIc,IAAJ,CAASD,IAAjB,EAAR,EAFI,EAGJN,IAHI,EAAN;AAIAN,MAAIO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,EAAqB,MAAMN,iBAASC,QAAT,CAAkBJ,IAAIK,MAAJ,CAAWC,EAA7B,EAAiCC,IAAjC,EAA3B;AACD,CAbH;;kBAgBeV,M","file":"provider.js","sourcesContent":["import { Router } from 'express';\nimport { Provider } from '../models';\nimport validator from 'express-joi-validator';\nimport providerJoi from '../schemas/joi/provider';\n\nconst routes = Router();\n\nroutes.put(\n  '/:id',\n  validator(providerJoi),\n  async (req, res) => {\n    let p = await Provider.findById(req.params.id).exec();\n    if (p === null) {\n      res.status(500).json({ message: `${req.params.id} - provider not found!` });\n    }\n    await Provider.findByIdAndUpdate(\n      req.params.id,\n      { $set: { name: req.body.name } }\n    ).exec();\n    res.status(200).json(await Provider.findById(req.params.id).exec());\n  }\n);\n\nexport default routes;"]}